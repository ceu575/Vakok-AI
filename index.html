<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat AI Vakok</title>
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai@^0.12.0",
          "marked": "https://esm.sh/marked@^12.0.2"
        }
      }
    </script>
</head>
<body>
    <div id="app-container">
        <header>
            <h1>Chat AI Vakok</h1>
        </header>
        <main>
            <div id="chat-container">
                <div id="chat-display" aria-live="polite"></div>
                <div id="loading-indicator" class="hidden" aria-label="Loading response">
                    <div class="spinner"></div>
                </div>
            </div>
            <div id="image-preview-container" class="hidden">
                <img id="image-preview" src="#" alt="Selected image preview" />
                <button id="clear-image-button" aria-label="Clear selected image">&times;</button>
            </div>
            <div id="input-area-wrapper">
                <div id="mode-selector-container">
                    <button type="button" id="mode-chat-button" class="mode-button active" aria-label="Activate Normal Chat Mode" aria-pressed="true">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 2.25c-5.376 0-9.75 3.403-9.75 7.575 0 1.93.726 3.694 1.954 5.085.116.13.088.33-.064.417-.253.146-.485.31-.69.493a.75.75 0 00-.28.913l.487 1.099a.75.75 0 00.914.418c.29-.118.59-.215.894-.288a.75.75 0 00.59-.252c.017-.021.036-.042.056-.062 1.396.958 3.09 1.503 4.93 1.503 5.376 0 9.75-3.403 9.75-7.575S17.376 2.25 12 2.25zM4.537 13.92a8.216 8.216 0 01-1.25-3.095c0-3.32 3.66-6.075 8.212-6.075 4.553 0 8.25 2.754 8.25 6.075s-3.697 6.075-8.25 6.075a9.134 9.134 0 01-3.906-1.011.75.75 0 00-.59.087c-.297.108-.587.23-.865.37l-.272-.614a.75.75 0 00-.03-.095c.29-.26.54-.53.74-.808.082-.113.078-.27-.01-.375z"></path></svg>
                        <span>Chat</span>
                    </button>
                    <button type="button" id="mode-chin-eng-button" class="mode-button" aria-label="Activate Hakha Chin to English Translation Mode" aria-pressed="false">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z"></path></svg>
                        <span>Chin→English</span>
                    </button>
                    <button type="button" id="mode-eng-chin-button" class="mode-button" aria-label="Activate English to Hakha Chin Translation Mode" aria-pressed="false">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M11.03 3.97a.75.75 0 010 1.06L4.81 11.25H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z"></path></svg>
                        <span>English→Chin</span>
                    </button>
                </div>
                <form id="input-form">
                    <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden-input" aria-label="Take a photo">
                    <button type="button" id="camera-button" aria-label="Open camera">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M12 12.75a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"/><path fill-rule="evenodd" d="M3.75 6.75a3 3 0 00-3 3v6a3 3 0 003 3h16.5a3 3 0 003-3v-6a3 3 0 00-3-3H3.75zm17.705 2.505a.75.75 0 00-1.06-.02L18.375 11.25V7.5A.75.75 0 0017.625 6H6.375a.75.75 0 00-.75.75v9.75c0 .414.336.75.75.75h11.25a.75.75 0 00.75-.75v-3.75l2.02 1.999a.75.75 0 001.061-.02l.707-.707a.75.75 0 000-1.06l-2.02-2.001 2.02-2a.75.75 0 00.02-1.06z" clip-rule="evenodd"/></svg>
                    </button>
                    <input type="file" id="file-input" accept="image/*" class="hidden-input" aria-label="Upload an image file">
                    <button type="button" id="file-upload-button" aria-label="Upload image">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path fill-rule="evenodd" d="M11.47 2.47a.75.75 0 011.06 0l4.5 4.5a.75.75 0 01-1.06 1.06l-3.22-3.22V16.5a.75.75 0 01-1.5 0V4.81L8.03 8.03a.75.75 0 01-1.06-1.06l4.5-4.5zM3 19.5a3 3 0 003 3h12a3 3 0 003-3v-5.25a.75.75 0 011.5 0v5.25a4.5 4.5 0 01-4.5 4.5H6a4.5 4.5 0 01-4.5-4.5V14.25a.75.75 0 011.5 0V19.5z" clip-rule="evenodd"/></svg>
                    </button>
                    <textarea id="message-input" placeholder="Type your message..." aria-label="Message input"></textarea>
                    <button type="submit" id="send-button" aria-label="Send message">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" /></svg>
                    </button>
                </form>
            </div>
        </main>
    </div>
    <script type="module" src="index.tsx"></script>
</body>
</html>